<body>
	<th:block th:include="thymeleaf/include/header"></th:block>
	<div class="container-fluid">
		<h1 class="h3 mb-2 text-secondary">
			관리자 메뉴<i class="fas fa-chevron-right mr-2 ml-2"></i> 계정 관리<i class="fas fa-chevron-right mr-2 ml-2"></i> <b class="text-white">계정 정보 변경</b>
		</h1>
		<p class="mb-4">계정 정보를 변경할 수 있습니다</p>
		<div class="card shadow mb-4 bg-nv">
			<div class="card-header py-3 bg-nv">
				<div class="row">
					<div class="col-xl-2">
						<span class="m-0 font-weight-bold text-white">관리자 정보 변경</span>
					</div>
					<div class="col-xl-4">
						<span><b class="text-danger mr-1">*</b>표시는 필수항목입니다. </span>
					</div>
				</div>
			</div>
			<div class="card-body bg-nv rounded-bottom">
				<form>
					<div class="form-group row" hidden="hidden">
						<label for="u_no" class="col-xl-2 col-lg-2 col-form-label text-white">등록 번호</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_no" class="form-control" id="u_no" th:value="${userInfo?.getUser_no()}" disabled="disabled" readonly>
						</div>
					</div>
					<div class="form-group row">
						<label for="u_id" class="col-xl-2 col-lg-2 col-lg-2 col-form-label text-white">아이디</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_id" class="form-control" id="u_id" th:value="${userInfo?.getUser_id()}" readonly="readonly">
						</div>
					</div>
					<div class="form-group row">
						<label for="u_license" class="col-xl-2 col-lg-2 col-form-label text-white">권한</label>
						<div class="col-xl-4 col-lg-4">
							<select name="permissions" class="form-control" id="perm_box">
								<option th:selected="${userInfo?.getUser_perm_no()} == '0'" value="0">no permission</option>
								<option th:selected="${userInfo?.getUser_perm_no()} == '1'" value="1">admin</option>
								<option th:selected="${userInfo?.getUser_perm_no()} == '10'" value="10">group</option>
								<option th:selected="${userInfo?.getUser_perm_no()} == '20'" value="20">project</option>
							</select>
						</div>
					</div>
					<div class="form-group row">
						<label for="u_siteName" class="col-xl-2 col-lg-2 col-form-label text-white">기업명</label>
						<div class="col-xl-2 col-lg-2">
							<input type="text" name="asis_company" class="form-control" id="asis_comp" th:value="${userInfo?.getComp_name()}" readonly="readonly" data-toggle="tooltip" data-placement="top" title="기존 기업명"> <input hidden="hidden" th:value="${userInfo?.getComp_no()}" id="asis_comp_no">
						</div>
						<div class="col-xl-2 col-lg-2">
							<select name="comp_name" id="comp_box" class="form-control" data-toggle="tooltip" data-placement="top" title="변경할 기업명">
								<option th:value="${'default'}">기업 없음</option>
								<option th:each=" company : ${companyInfoList} " value="${company?.getComp_no()}" th:value="${company?.getComp_no()}" th:utext="${company?.getComp_name()}"></option>
							</select>
						</div>
					</div>
					<div class="form-group row">
						<label for="u_siteName" class="col-xl-2 col-lg-2 col-form-label text-white">프로젝트명</label>
						<div class="col-xl-2 col-lg-2">
							<input type="text" name="prj_name" class="form-control" id="u_proj_name" th:value="${userInfo?.getZone_name()}" readonly="readonly" data-toggle="tooltip" data-placement="top" title="기존 프로젝트명">
						</div>
						<div class="col-xl-2 col-lg-2">
							<select name="proj_name" id="proj_box" class="form-control user_update" data-toggle="tooltip" data-placement="top" title="변경할 프로젝트명">
								<option th:value="${'default'}">프로젝트 없음</option>
								<option th:each=" proj : ${projList} " th:value="${proj}" th:utext="${proj}"></option>
							</select>
						</div>
						<input hidden="hidden" type="text" th:value="${userInfo?.getZone_no()}" id="asis_zone_no">
					</div>
					<br>
					<div class="form-group row">
						<label for="user_name" class="col-xl-2 col-lg-2 col-form-label text-white"> <b class="text-danger mr-1">*</b>계정명
						</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_name" class="form-control" id="u_name" th:value="${userInfo?.getUser_name()}">
						</div>
					</div>
					<div class="form-group row">
						<label for="user_company_name" class="col-xl-2 col-lg-2 col-form-label text-white"><b class="text-danger mr-1">*</b>회사명</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_company_name" class="form-control" id="u_comp_name" th:value="${userInfo?.getUser_company_name()}">
						</div>
					</div>
					<div class="form-group row">
						<label for="user_dept_name" class="col-xl-2 col-lg-2 col-form-label text-white"><b class="text-danger mr-1">*</b>부서명</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_dept_name" class="form-control" id="u_dept_name" th:value="${userInfo?.getUser_dept_name()}">
						</div>
					</div>
					<div class="form-group row">
						<label for="user_email" class="col-xl-2 col-lg-2 col-form-label text-white"><b class="text-danger mr-1">*</b>이메일</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_email" class="form-control" id="u_email" th:value="${userInfo?.getUser_email()}">
						</div>
					</div>
					<div class="form-group row">
						<label for="user_phone_num1" class="col-xl-2 col-lg-2 col-form-label text-white"><b class="text-danger mr-1">*</b>연락처 1</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_phone_num1" class="form-control" id="u_phone_num1" th:value="${userInfo?.getUser_phone_num1()}">
						</div>
					</div>
					<div class="form-group row">
						<label for="user_phone_num2" class="col-xl-2 col-lg-2 col-form-label text-white">연락처 2</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="user_phone_num2" class="form-control" id="u_phone_num2" th:value="${userInfo?.getUser_phone_num2()}">
						</div>
					</div>
					<!-- 0428 -->
					<div class="form-group row">
						<label for="auth_err" class="col-xl-2 col-lg-2 col-form-label text-white">로그인 실패 횟수</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="auth_err" class="form-control" id="u_err_cnt" th:value="${userInfo?.getAuth_err()}" disabled="disabled" readonly>
						</div>
					</div>
					<div class="form-group row">
						<label for="u_last_login" class="col-xl-2 col-lg-2 col-form-label text-white">마지막 로그인 일자</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="last_login" class="form-control" id="u_last_login" th:value="${userInfo?.getLast_login()}" disabled="disabled" readonly>
						</div>
					</div>
					<div class="form-group row">
						<label for="u_reg_date" class="col-xl-2 col-lg-2 col-form-label text-white">계정 등록 일자</label>
						<div class="col-xl-4 col-lg-4">
							<input type="text" name="reg_date" class="form-control" id="u_reg_date" th:value="${userInfo?.getHistory_reg_date()}" disabled="disabled" readonly>
						</div>
					</div>
					<div class="alert alert-danger alert-dismissible fade show col-xl-6 col-lg-6" role="alert">
						관리자에 의해 <strong class="text-danger"> 활성화가 되어야 </strong> 사용자가 기능을 사용할 수 있습니다
					</div>
					<div class="form-group row">
						<label for="u_exist" class="col-xl-2 col-lg-2 col-form-label text-white">활성화</label>
						<div class="col-xl-4 col-lg-4">
							<select name="exist" class="form-control" id="existBox">
								<option th:selected="${userInfo?.getExist()} == 'Y'" value="Y">YES</option>
								<option th:selected="${userInfo?.getExist()} == 'N'" value="N">NO</option>
							</select>
						</div>
					</div>
				</form>
				<div class="form-group row">
					<div class="col-xl-12">
						<input type="button" class="btn btn-primary" value="변경" id="updateBtn"> <input type="button" class="btn btn-dark" value="취소" onclick="back();">
					</div>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="/js/user/userInfo.js"></script>
	<script type="text/javascript" src="/js/user/user.js"></script>
	<script type="text/javascript" src="/js/chart/cancel.js"></script>
	<script type="text/javascript" src="/js/include/swal.js"></script>
	<script>
		$(document).ready(function() {
			$('[data-toggle="tooltip"]').tooltip();
		});
	</script>
	<th:block th:include="thymeleaf/include/footer"></th:block>
</body>